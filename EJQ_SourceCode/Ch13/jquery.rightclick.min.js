/* http://keith-wood.name/rightclick.html
   Right-click special event for jQuery v1.0.0.
   Written by Keith Wood (kbwood{at}iinet.com.au) March 2012.
   Dual licensed under the GPL (http://dev.jquery.com/browser/trunk/jquery/GPL-LICENSE.txt) and 
   MIT (http://dev.jquery.com/browser/trunk/jquery/MIT-LICENSE.txt) licenses. 
   Please attribute the author if you use it. */
(function($){$.event.rightclickDisabled=$([]);$.event.special.rightclick={eventType:'rightclick',setup:function(a,b){$(this).addClass('right-clickable').bind('contextmenu',$.event.special.rightclick.handler)},teardown:function(a){$(this).removeClass('right-clickable').unbind('contextmenu',$.event.special.rightclick.handler)},handler:function(a){if($.event.rightclickDisabled.length&&$(this).is($.event.rightclickDisabled)){a.stopPropagation();a.preventDefault();return}a.type=$.event.special.rightclick.eventType;return $.event.handle.apply(this,arguments)}};$.event.special.rightmulticlick={eventType:'rightmulticlick',setup:function(a,b){$(this).addClass('right-clickable')},add:function(a){var b=$.extend({clickCount:2,clickNumber:0,lastClick:0,clickSpeed:500,handler:a.handler},a.data||{});var c=$.event.special.rightmulticlick.eventType+a.guid;$(this).data(c,b).bind('contextmenu.'+c,{id:c},$.event.special.rightmulticlick.handler)},remove:function(a){var b=$.event.special.rightmulticlick.eventType+a.guid;$(this).removeData(b).unbind('contextmenu.'+b)},teardown:function(a){$(this).removeClass('right-clickable')},handler:function(a){if($.event.rightclickDisabled.length&&$(this).is($.event.rightclickDisabled)){a.stopPropagation();a.preventDefault();return}var b=$(this).data(a.data.id);a.timeStamp=a.timeStamp||new Date().getTime();if(a.timeStamp-b.lastClick<=b.clickSpeed){b.clickNumber++}else{b.clickNumber=1;b.lastClick=a.timeStamp}var c=false;if(b.clickNumber==b.clickCount){a.type=$.event.special.rightmulticlick.eventType;c=b.handler.apply(this,arguments)}return c}};$.each([$.event.special.rightclick.eventType,$.event.special.rightmulticlick.eventType],function(i,c){$.fn[c]=function(a,b){if(b==null){b=a;a=null}return arguments.length>0?this.on(c,null,a,b):this.trigger(c)}})})(jQuery);